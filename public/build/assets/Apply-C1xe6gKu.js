import{u as j,b as m,a as N,j as e,H as w,L as g}from"./app-WodD9T31.js";import{A as _}from"./AuthenticatedLayout-DfCVmH_P.js";import{C as D}from"./cloud-upload-TzB0Y6hS.js";import"./users-CiV2fFqH.js";import"./createLucideIcon-DvAImH0J.js";import"./message-square-CqAB2nUP.js";import"./image-DCDJmtNr.js";import"./search-CxFu_3tP.js";import"./user-DvMB5dXR.js";import"./star-C9-sC3Ed.js";function E({vacancy:t}){const{flash:i}=j().props,o=m.useRef(null),[n,l]=m.useState(!1),{data:a,setData:c,post:b,processing:u,errors:s,reset:p,progress:d}=N({advert_name:t?.advertName??"",cover_letter:null}),x=r=>{r&&c("cover_letter",r)},f=r=>{r.preventDefault(),l(!1);const v=r.dataTransfer?.files?.[0];x(v)},h=r=>{r.preventDefault(),n||l(!0)},k=r=>{r.preventDefault(),l(!1)},y=r=>{r.preventDefault(),b(route("opportunities.apply.store",t.id),{forceFormData:!0,onSuccess:()=>{p("cover_letter")}})};return e.jsxs(_,{children:[e.jsx(w,{title:"Apply"}),e.jsxs("div",{className:"py-10 px-4 sm:px-6 lg:px-10 max-w-[1100px] mx-auto",children:[i?.success?e.jsx("div",{className:"mb-6 rounded-2xl border border-emerald-200 dark:border-emerald-900 bg-emerald-50 dark:bg-emerald-900/20 px-6 py-4 text-sm font-black text-emerald-900 dark:text-emerald-200",children:i.success}):null,e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-black tracking-widest uppercase text-emerald-600 dark:text-emerald-400",children:"Application Form"}),e.jsx("h1",{className:"mt-2 text-2xl sm:text-3xl font-black text-gray-900 dark:text-white leading-tight",children:t.advertName})]}),e.jsx(g,{href:route("opportunities.show",t.id),className:"h-10 inline-flex items-center px-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-sm font-black text-gray-800 dark:text-gray-100",children:"Back"})]}),e.jsx("form",{onSubmit:y,className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-6 sm:p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black tracking-widest uppercase text-gray-600 dark:text-gray-300 mb-2",children:"Job Title"}),e.jsx("input",{value:a.advert_name,onChange:r=>c("advert_name",r.target.value),className:"w-full h-12 rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-4 text-sm font-black text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-500",readOnly:!0}),s.advert_name?e.jsx("div",{className:"mt-2 text-sm font-black text-red-600",children:s.advert_name}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black tracking-widest uppercase text-gray-600 dark:text-gray-300 mb-2",children:"Upload Cover Letter"}),e.jsxs("div",{className:`relative rounded-3xl border-2 border-dashed p-10 sm:p-12 bg-gray-50 dark:bg-gray-900/30 transition-colors ${n?"border-emerald-500 bg-emerald-50/60 dark:bg-emerald-900/20":"border-gray-300 dark:border-gray-600"}`,onDrop:f,onDragOver:h,onDragLeave:k,children:[e.jsx("button",{type:"button",onClick:()=>o.current?.click(),className:"w-full",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:e.jsx(D,{className:"w-8 h-8 text-emerald-700 dark:text-emerald-300"})}),e.jsx("div",{className:"mt-5 text-base font-black text-gray-900 dark:text-white",children:"Drag & drop your document here"}),e.jsx("div",{className:"mt-1 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"or click to upload (PDF / DOC / DOCX, max 5MB)"}),e.jsxs("div",{className:"mt-6 w-full max-w-xl rounded-2xl border border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-900/50 px-5 py-4",children:[e.jsx("div",{className:"text-sm font-black text-gray-900 dark:text-white truncate",children:a.cover_letter?a.cover_letter.name:"No file selected"}),e.jsx("div",{className:"mt-1 text-xs font-semibold text-gray-600 dark:text-gray-400",children:a.cover_letter?`${Math.ceil(a.cover_letter.size/1024)} KB`:"Your job application letter"})]})]})}),e.jsx("input",{ref:o,type:"file",accept:".pdf,.doc,.docx",onChange:r=>x(r.target.files?.[0]??null),className:"hidden"})]}),d?e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs font-black tracking-widest uppercase text-gray-600 dark:text-gray-300",children:[e.jsx("div",{children:"Uploading"}),e.jsxs("div",{children:[d.percentage,"%"]})]}),e.jsx("div",{className:"mt-2 h-2 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden",children:e.jsx("div",{className:"h-2 rounded-full bg-emerald-600 transition-all",style:{width:`${d.percentage}%`}})})]}):null,s.cover_letter?e.jsx("div",{className:"mt-2 text-sm font-black text-red-600",children:s.cover_letter}):null]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[e.jsx(g,{href:route("opportunities.show",t.id),className:"h-11 inline-flex items-center px-5 rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-sm font-black text-gray-800 dark:text-gray-100",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u,className:"h-11 inline-flex items-center px-6 rounded-2xl bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-black disabled:opacity-60",children:"Submit"})]})]})})]})]})}export{E as default};
