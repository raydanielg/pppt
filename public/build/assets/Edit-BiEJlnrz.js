import{u as c,a as m,j as e,H as x,L as p}from"./app-WodD9T31.js";import{A as g}from"./AdminLayout-DjZzVwVK.js";import"./users-CiV2fFqH.js";import"./createLucideIcon-DvAImH0J.js";import"./image-DCDJmtNr.js";import"./chevron-down-Bzvsf0nN.js";const b=({checked:s,onChange:t,label:l})=>e.jsxs("label",{className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-3 py-2 text-xs font-black text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:!!s,onChange:r=>t(r.target.checked),className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),l]});function N({user:s,allRoles:t=[]}){const l=c().props.flash,r=m({name:s.name||"",email:s.email||"",country:s.country||"",membership_number:s.membership_number||"",onboarding_completed:!!s.onboarding_completed,roles:Array.isArray(s.roles)?s.roles:[],password:""}),n=a=>{a.preventDefault(),r.put(route("admin.users.update",s.id))},i=a=>{const d=String(a||"").trim();if(!d)return;const o=new Set(r.data.roles);o.has(d)?o.delete(d):o.add(d),r.setData("roles",Array.from(o))};return e.jsxs(g,{title:"Edit User",children:[e.jsx(x,{title:"Admin - Edit User"}),l?.success?e.jsx("div",{className:"mb-4 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm font-black text-emerald-800",children:l.success}):null,e.jsxs("form",{onSubmit:n,className:"rounded-2xl border border-gray-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-black text-gray-900",children:"User Details"}),e.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Update profile fields, membership, roles, and password."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{href:route("admin.users.index"),className:"rounded-xl border border-gray-200 bg-white px-3 py-2 text-xs font-black text-gray-700 hover:bg-gray-50",children:"Back"}),e.jsx("button",{type:"submit",disabled:r.processing,className:"rounded-xl bg-emerald-600 px-4 py-2 text-xs font-black text-white hover:bg-emerald-700 disabled:opacity-60",children:"Save"})]})]}),e.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-500",children:"Name"}),e.jsx("input",{value:r.data.name,onChange:a=>r.setData("name",a.target.value),className:"mt-2 w-full rounded-xl border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm focus:border-emerald-500 focus:ring-emerald-500"}),r.errors.name?e.jsx("div",{className:"mt-1 text-xs font-bold text-rose-600",children:r.errors.name}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-500",children:"Email"}),e.jsx("input",{value:r.data.email,onChange:a=>r.setData("email",a.target.value),className:"mt-2 w-full rounded-xl border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm focus:border-emerald-500 focus:ring-emerald-500"}),r.errors.email?e.jsx("div",{className:"mt-1 text-xs font-bold text-rose-600",children:r.errors.email}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-500",children:"Country"}),e.jsx("input",{value:r.data.country,onChange:a=>r.setData("country",a.target.value),className:"mt-2 w-full rounded-xl border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-gray-500",children:"Member Number"}),e.jsx("input",{value:r.data.membership_number,onChange:a=>r.setData("membership_number",a.target.value),className:"mt-2 w-full rounded-xl border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),e.jsx("div",{className:"md:col-span-2 flex flex-wrap gap-2",children:e.jsx(b,{checked:r.data.onboarding_completed,onChange:a=>r.setData("onboarding_completed",a),label:"Onboarding Completed"})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("div",{className:"text-xs font-black uppercase tracking-widest text-gray-500",children:"Roles"}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:t.length?t.map(a=>e.jsx("button",{type:"button",onClick:()=>i(a.name),className:"rounded-full px-3 py-2 text-[11px] font-black uppercase tracking-widest border transition "+(r.data.roles.includes(a.name)?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:bg-gray-50"),children:a.name},a.id)):e.jsx("div",{className:"text-xs text-gray-500",children:"No roles defined yet."})}),r.errors.roles?e.jsx("div",{className:"mt-1 text-xs font-bold text-rose-600",children:r.errors.roles}):null]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("div",{className:"text-xs font-black uppercase tracking-widest text-gray-500",children:"Reset Password (optional)"}),e.jsx("input",{type:"password",value:r.data.password,onChange:a=>r.setData("password",a.target.value),className:"mt-2 w-full rounded-xl border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm focus:border-emerald-500 focus:ring-emerald-500",placeholder:"Enter new password"}),r.errors.password?e.jsx("div",{className:"mt-1 text-xs font-bold text-rose-600",children:r.errors.password}):null,e.jsx("div",{className:"mt-1 text-[11px] text-gray-500",children:"Leave empty to keep current password."})]})]})]})]})}export{N as default};
