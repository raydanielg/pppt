import{j as e,H as x}from"./app-CCnhgFA1.js";import{A as c}from"./AuthenticatedLayout-CmrbK00h.js";import{a as n}from"./star-Cic8id9h.js";import"./search-B_8tR2Pl.js";import"./createLucideIcon-Bvvl7QdA.js";import"./user-D39jtYq-.js";const l=({rating:t=0})=>{const r=Math.max(0,Math.min(5,Number(t)||0));return e.jsx("div",{className:"flex items-center gap-0.5",children:Array.from({length:5}).map((d,s)=>e.jsx(n,{className:"h-4 w-4 "+(s<r?"fill-amber-400 text-amber-400":"text-gray-300 dark:text-gray-700")},s))})};function j({reviews:t=[],stats:r=null}){const d=r?.count??t.length,s=Number(r?.avg_rating??0),i=r?.by_category||[];return e.jsxs(c,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-white",children:"Reviews"}),children:[e.jsx(x,{title:"Reviews"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white/60 p-5 shadow-sm backdrop-blur dark:border-gray-700 dark:bg-gray-900/40",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400",children:"Total Reviews"}),e.jsx("div",{className:"mt-2 text-3xl font-black text-gray-900 dark:text-white",children:d})]}),e.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white/60 p-5 shadow-sm backdrop-blur dark:border-gray-700 dark:bg-gray-900/40",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400",children:"Average Rating"}),e.jsxs("div",{className:"mt-2 flex items-center justify-between gap-4",children:[e.jsx("div",{className:"text-3xl font-black text-gray-900 dark:text-white",children:s.toFixed(2)}),e.jsx(l,{rating:d>0?Math.round(s):0})]})]}),e.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white/60 p-5 shadow-sm backdrop-blur dark:border-gray-700 dark:bg-gray-900/40",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400",children:"Top Categories"}),e.jsxs("div",{className:"mt-3 space-y-2",children:[i.slice(0,3).map(a=>e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"min-w-0 truncate text-sm font-bold text-gray-800 dark:text-gray-100",children:a.category}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-black text-gray-500 dark:text-gray-400",children:a.count}),e.jsx("span",{className:"rounded-full bg-amber-400/20 px-2 py-0.5 text-xs font-black text-amber-700 dark:text-amber-300",children:a.avg_rating})]})]},a.category)),i.length===0&&e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"No categories yet"})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white/60 p-6 shadow-sm backdrop-blur dark:border-gray-700 dark:bg-gray-900/40",children:[e.jsx("div",{className:"mb-5 flex items-end justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-black text-gray-900 dark:text-white",children:"Latest Reviews"}),e.jsx("div",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"What members are saying across different areas"})]})}),t.length===0?e.jsxs("div",{className:"rounded-2xl border border-dashed border-gray-300 p-10 text-center dark:border-gray-700",children:[e.jsx("div",{className:"text-sm font-black text-gray-900 dark:text-white",children:"No reviews yet"}),e.jsx("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"This page will automatically list real reviews once members start submitting them."})]}):e.jsx("div",{className:"divide-y divide-gray-200/60 dark:divide-gray-800",children:t.map(a=>e.jsx("div",{className:"py-5 first:pt-0 last:pb-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-6",children:[e.jsxs("div",{className:"flex min-w-0 items-start gap-4",children:[e.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-2xl bg-emerald-600 ring-1 ring-black/5 shadow-sm dark:ring-white/10",children:e.jsx("img",{src:a.user?.avatar_url,alt:a.user?.name,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("div",{className:"truncate text-sm font-black text-gray-900 dark:text-white",children:a.user?.name||"Unknown"}),e.jsx("span",{className:"rounded-full bg-emerald-700/10 px-2 py-0.5 text-xs font-black text-emerald-800 dark:bg-emerald-400/10 dark:text-emerald-200",children:a.category})]}),a.title&&e.jsx("div",{className:"mt-1 text-sm font-bold text-gray-900 dark:text-gray-100",children:a.title}),a.body&&e.jsx("div",{className:"mt-2 text-sm leading-relaxed text-gray-700 dark:text-gray-300",children:a.body})]})]}),e.jsxs("div",{className:"flex shrink-0 flex-col items-end gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{rating:a.rating}),e.jsxs("span",{className:"text-xs font-black text-gray-600 dark:text-gray-400",children:[a.rating,"/5"]})]}),e.jsx("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:a.created_at?new Date(a.created_at).toLocaleDateString():""})]})]})},a.id))})]})]})]})}export{j as default};
