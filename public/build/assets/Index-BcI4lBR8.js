import{b as d,j as e,H as u,L as f}from"./app-WodD9T31.js";import{A as N}from"./AuthenticatedLayout-DfCVmH_P.js";import"./users-CiV2fFqH.js";import"./createLucideIcon-DvAImH0J.js";import"./message-square-CqAB2nUP.js";import"./image-DCDJmtNr.js";import"./search-CxFu_3tP.js";import"./user-DvMB5dXR.js";import"./star-C9-sC3Ed.js";function E({vacancies:i=[],appliedIds:c=[]}){const g=d.useMemo(()=>new Set((c??[]).map(t=>Number(t))),[c]),[n,p]=d.useState(""),[r,h]=d.useState(10),[y,x]=d.useState(1),s=d.useMemo(()=>{const t=n.trim().toLowerCase();return t?i.filter(l=>`${l.advertName} ${l.employerName} ${l.closeDate}`.toLowerCase().includes(t)):i},[i,n]),o=Math.max(1,Math.ceil(s.length/r)),a=Math.min(y,o),m=d.useMemo(()=>{const t=(a-1)*r;return s.slice(t,t+r)},[s,r,a]),b=s.length===0?0:(a-1)*r+1,k=Math.min(s.length,a*r);return e.jsxs(N,{children:[e.jsx(u,{title:"Opportunities"}),e.jsx("div",{className:"py-10 px-4 sm:px-6 lg:px-10 max-w-[1600px] mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"px-6 sm:px-8 py-6 border-b border-gray-100 dark:border-gray-700",children:e.jsx("h1",{className:"text-2xl sm:text-3xl font-black text-gray-900 dark:text-white",children:"All Vacancies"})}),e.jsxs("div",{className:"px-6 sm:px-8 py-5 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Show:"}),e.jsxs("select",{value:r,onChange:t=>{h(Number(t.target.value)),x(1)},className:"h-10 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 text-sm font-semibold text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"})]}),e.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"entries"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Search:"}),e.jsx("input",{value:n,onChange:t=>{p(t.target.value),x(1)},placeholder:"Search vacancies...",className:"h-10 w-full md:w-80 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 text-sm font-semibold text-gray-900 dark:text-gray-100 placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/40 border-y border-gray-200 dark:border-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-[11px] font-black tracking-widest uppercase text-gray-600 dark:text-gray-300 w-[80px]",children:"S/N"}),e.jsx("th",{className:"px-6 py-3 text-[11px] font-black tracking-widest uppercase text-gray-600 dark:text-gray-300 min-w-[520px]",children:"Advert Name"}),e.jsx("th",{className:"px-6 py-3 text-[11px] font-black tracking-widest uppercase text-gray-600 dark:text-gray-300 min-w-[220px]",children:"Employer Name"}),e.jsx("th",{className:"px-6 py-3 text-[11px] font-black tracking-widest uppercase text-gray-600 dark:text-gray-300 min-w-[140px]",children:"Close Date"}),e.jsx("th",{className:"px-6 py-3 text-[11px] font-black tracking-widest uppercase text-gray-600 dark:text-gray-300 min-w-[160px]",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:m.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-sm font-semibold text-gray-500 dark:text-gray-400",children:"No vacancies found."})}):m.map((t,l)=>e.jsxs("tr",{className:"hover:bg-gray-50/70 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-700 dark:text-gray-200",children:(a-1)*r+l+1}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-black text-gray-900 dark:text-white",children:t.advertName}),e.jsxs("div",{className:"mt-1 text-xs font-semibold text-gray-600 dark:text-gray-400",children:["Number of Posts: ",t.posts]})]}),e.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-700 dark:text-gray-200",children:t.employerName}),e.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-700 dark:text-gray-200",children:t.closeDate}),e.jsx("td",{className:"px-6 py-4",children:t.isClosed?e.jsx("span",{className:"h-10 inline-flex items-center px-5 rounded-xl bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-900 text-rose-800 dark:text-rose-200 text-xs font-black tracking-wide uppercase",children:"Closed"}):g.has(Number(t.id))?e.jsx("span",{className:"h-10 inline-flex items-center px-5 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-900 text-emerald-800 dark:text-emerald-200 text-xs font-black tracking-wide uppercase",children:"Applied"}):e.jsx(f,{href:route("opportunities.show",t.id),className:"h-10 inline-flex items-center px-5 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-black tracking-wide uppercase shadow-sm shadow-emerald-600/20",children:"View"})})]},t.id))})]})}),e.jsxs("div",{className:"px-6 sm:px-8 py-5 flex flex-col gap-3 md:flex-row md:items-center md:justify-between border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["Showing ",b," to ",k," of ",s.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",disabled:a<=1,onClick:()=>x(t=>Math.max(1,t-1)),className:"h-10 px-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-sm font-black text-gray-800 dark:text-gray-100 disabled:opacity-50",children:"Prev"}),e.jsxs("div",{className:"text-sm font-black text-gray-700 dark:text-gray-200 px-2",children:[a," / ",o]}),e.jsx("button",{type:"button",disabled:a>=o,onClick:()=>x(t=>Math.min(o,t+1)),className:"h-10 px-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-sm font-black text-gray-800 dark:text-gray-100 disabled:opacity-50",children:"Next"})]})]})]})})]})}export{E as default};
